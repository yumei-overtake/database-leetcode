/* Write your T-SQL query statement below */
WITH A AS (
SELECT d.name as Department,
       e.name as Employee,
       e.salary ,
       dense_rank () over (partition by d.id order by e.salary desc) as rnk
FROM Employee as e
INNER JOIN Department as d
        on d.id=e.departmentid
)
SELECT Department,
     Employee,
     Salary
FROM A 
WHERE RNK<=3